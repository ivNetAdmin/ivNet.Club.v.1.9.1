$(document).ready(function () {

    $.ajax({
        url: '/api/club/carousel',
        type: 'GET',
        dataType: 'json',
        success: function (data) {
            var active = " active";

            var carousel = $('div.carousel-inner');
            var indicators = $('ol.carousel-indicators');

            $.each(data, function(index, value) {

                var rootDiv = $('<div/>', {
                    'class': 'item' + active
                }).appendTo(carousel);

              //  $('<h4/>', { 'html': value.Town + ", " + value.Postcode }).appendTo(rootDiv);

                $('<img/>', {
                    'alt': 'carousel image',
                    'src': value.Url
                }).appendTo(rootDiv);

              //  var captionDiv = $('<div/>', { 'class': 'carousel-caption' }).appendTo(rootDiv);

              //  $('<h4/>', { 'html': unescape(value.Postcode) }).appendTo(captionDiv);

              //  $('<p/>', { 'html': unescape(value.StrapLine) }).appendTo(captionDiv);

                
                $('<li/>', {
                    'data-target': '#listingCarousel',
                    'data-slide-to': index,
                    'class': active
                }).appendTo(indicators);

                active = "";
                
            });
            
            $("#listingCarousel").carousel();
        },
        error: function (x, y, z) {
            alert(x + '\n' + y + '\n' + z);
        }
    });

});
